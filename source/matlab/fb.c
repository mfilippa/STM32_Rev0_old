// -----------------------------------------------------------------------------
// fb.c - MPF - Dec 4, 2011
// -----------------------------------------------------------------------------

// includes
#include "../globals.h"
#include "../stdint.h"
#include "fb.h"
#include "wrapper.h"

// definitions

// module structure

// prototypes

// -----------------------------------------------------------------------------
// 
// -----------------------------------------------------------------------------
void FB_Initialize(void){

}

// -----------------------------------------------------------------------------
//
// -----------------------------------------------------------------------------
int16_t FB_Get(int index){
	int16_t value = 0;
	switch(index){
	case FB_IA:
		value = (double)*(pIn+0)*(1<<FP_CURRENT);
		break;
	case FB_IB:
		value = (double)*(pIn+1)*(1<<FP_CURRENT);
		break;
	case FB_IC:
		value = (double)*(pIn+2)*(1<<FP_CURRENT);
		break;
	case FB_VA:
		value = (double)*(pIn+3)*(1<<FP_VOLTAGE);
		break;
	case FB_VB:
		value = (double)*(pIn+4)*(1<<FP_VOLTAGE);
		break;
	case FB_VC:
		value = (double)*(pIn+5)*(1<<FP_VOLTAGE);
		break;
	case FB_VBUS:
		value = (double)*(pIn+6)*(1<<FP_VOLTAGE);
		break;
	case FB_HST:
		value = (double)*(pIn+7)*(1<<FP_TEMPERATURE);
		break;
	}
	return value;
}

// -----------------------------------------------------------------------------
//
// -----------------------------------------------------------------------------
int16_t FB_GetAverage(int index){
	return FB_Get(index);
}

// -----------------------------------------------------------------------------
//
// -----------------------------------------------------------------------------
int16_t FB_GetFilter(int index){
	return FB_Get(index);
}

// -----------------------------------------------------------------------------
//
// -----------------------------------------------------------------------------
void FB_InitOffsets(void){

}

// -----------------------------------------------------------------------------
//
// -----------------------------------------------------------------------------
void FB_ReadFastADC(void){

}

// -----------------------------------------------------------------------------
//
// -----------------------------------------------------------------------------
void FB_ReadSlowADC(void){

}
